{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\n/*\nconst useRequest = (request) => {\n  \n  const params = useParams()\n\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n\n  useEffect(() => {\n    setLoading(true)\n    request(params.id)\n        .then((data) => setData(data))\n        .catch(error => setError(error))\n        .finally(() => setLoading(false));\n\n  },[params.id])\n\n  return [data,loading,error]\n}\n\n*/\n\nconst useRequest = request => {\n  _s();\n\n  const [status, setStatus] = useState({\n    data: null,\n    loading: false,\n    error: false\n  });\n\n  function requestNow(request) {\n    setStatus({\n      loading: true\n    });\n    request(request).then(data => setStatus({\n      data: data\n    })).catch(error => setStatus({\n      error\n    })).finally(() => setStatus({\n      loading: false\n    }));\n  }\n\n  useEffect(() => {\n    if (request) {\n      requestNow(request);\n    }\n  }, []);\n  return { ...status,\n    requestNow\n  };\n};\n\n_s(useRequest, \"tjJ4wFsp/A2YXy+AeaCm7cbiW3Q=\");\n\nexport default useRequest;","map":{"version":3,"sources":["/Users/filippkovalenko/Desktop/учеба /react-1/AppRouter/src/hooks/useRequest.js"],"names":["useState","useEffect","useParams","useRequest","request","status","setStatus","data","loading","error","requestNow","then","catch","finally"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,SAAT,QAA0B,kBAA1B;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,UAAU,GAAIC,OAAD,IAAa;AAAA;;AAE5B,QAAM,CAACC,MAAD,EAAQC,SAAR,IAAqBN,QAAQ,CAAC;AAChCO,IAAAA,IAAI,EAAE,IAD0B;AAEhCC,IAAAA,OAAO,EAAE,KAFuB;AAGhCC,IAAAA,KAAK,EAAC;AAH0B,GAAD,CAAnC;;AAMA,WAASC,UAAT,CAAqBN,OAArB,EAA8B;AAC1BE,IAAAA,SAAS,CAAC;AAACE,MAAAA,OAAO,EAAE;AAAV,KAAD,CAAT;AACAJ,IAAAA,OAAO,CAACA,OAAD,CAAP,CACKO,IADL,CACWJ,IAAD,IAAUD,SAAS,CAAC;AAACC,MAAAA,IAAI,EAACA;AAAN,KAAD,CAD7B,EAEKK,KAFL,CAEWH,KAAK,IAAIH,SAAS,CAAC;AAACG,MAAAA;AAAD,KAAD,CAF7B,EAGKI,OAHL,CAGa,MAAMP,SAAS,CAAC;AAACE,MAAAA,OAAO,EAAE;AAAV,KAAD,CAH5B;AAIH;;AAEDP,EAAAA,SAAS,CAAC,MAAI;AACV,QAAGG,OAAH,EAAW;AACPM,MAAAA,UAAU,CAACN,OAAD,CAAV;AACH;AACJ,GAJQ,EAIP,EAJO,CAAT;AAMA,SAAO,EAAC,GAAGC,MAAJ;AAAWK,IAAAA;AAAX,GAAP;AACD,CAvBH;;GAAMP,U;;AA0BN,eAAeA,UAAf","sourcesContent":["import { useState, useEffect } from \"react\" \nimport { useParams } from \"react-router-dom\";\n\n\n/*\nconst useRequest = (request) => {\n  \n  const params = useParams()\n\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n\n  useEffect(() => {\n    setLoading(true)\n    request(params.id)\n        .then((data) => setData(data))\n        .catch(error => setError(error))\n        .finally(() => setLoading(false));\n\n  },[params.id])\n\n  return [data,loading,error]\n}\n\n*/\n\nconst useRequest = (request) => {\n  \n    const [status,setStatus] = useState({\n        data: null,\n        loading: false,\n        error:false\n    })\n\n    function requestNow (request) {\n        setStatus({loading: true})\n        request(request)\n            .then((data) => setStatus({data:data}))\n            .catch(error => setStatus({error}))\n            .finally(() => setStatus({loading: false}));\n    }\n\n    useEffect(()=>{\n        if(request){\n            requestNow(request)\n        }\n    },[])\n\n    return {...status,requestNow}\n  }\n\n\nexport default useRequest\n"]},"metadata":{},"sourceType":"module"}